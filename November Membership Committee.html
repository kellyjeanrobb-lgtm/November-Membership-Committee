<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>November Membership Dashboard</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://unpkg.com/recharts/umd/Recharts.js"></script>

    <style>
        body { background-color: #f8fafc; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { 
            BarChart, Bar, LineChart, Line, ComposedChart, Area, PieChart, Pie,
            XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, 
            Cell, ReferenceLine, LabelList 
        } = Recharts;

        // --- MOCK ICONS (Replacing Lucide for standalone HTML compatibility) ---
        const IconWrapper = ({ char, className }) => <span className={`text-xl font-bold ${className}`}>{char}</span>;
        
        const Wallet = (props) => <IconWrapper char="ðŸ’¼" {...props} />;
        const DollarSign = (props) => <IconWrapper char="ðŸ’²" {...props} />;
        const Activity = (props) => <IconWrapper char="ðŸ“ˆ" {...props} />;
        const FileText = (props) => <IconWrapper char="ðŸ“„" {...props} />;
        const ClipboardList = (props) => <IconWrapper char="ðŸ“‹" {...props} />;
        const UserPlus = (props) => <IconWrapper char="ðŸ‘¤+" {...props} />;
        const UserMinus = (props) => <IconWrapper char="ðŸ‘¤-" {...props} />;
        const Database = (props) => <IconWrapper char="ðŸ—„ï¸" {...props} />;
        const CheckCircle = (props) => <IconWrapper char="âœ…" {...props} />;
        const UserCheck = (props) => <IconWrapper char="â˜‘ï¸" {...props} />;
        const TrendingUp = (props) => <IconWrapper char="â†—ï¸" {...props} />;
        const ArrowRightLeft = (props) => <IconWrapper char="â‡„" {...props} />;
        const Layers = (props) => <IconWrapper char="ðŸ“š" {...props} />;
        const Clock = (props) => <IconWrapper char="â°" {...props} />;
        const MapPin = (props) => <IconWrapper char="ðŸ“" {...props} />;
        const User = (props) => <IconWrapper char="ðŸ‘¤" {...props} />;
        const Calendar = (props) => <IconWrapper char="ðŸ“…" {...props} />;
        const Info = (props) => <IconWrapper char="â„¹ï¸" {...props} />;
        const BookOpen = (props) => <IconWrapper char="ðŸ“–" {...props} />;

        const MembershipDashboard = () => {
            // November Data
            const fluxData = [
                { name: 'Headcount', New: 61, Resigned: 53, Net: 8 },
                { name: 'Accounts', New: 35, Resigned: 38, Net: -3 }
            ];

            // Updated Pipeline Data for November
            const pipelineData = [
                { 
                name: 'Applicants', 
                value: 113, 
                fill: '#94a3b8',
                desc: 'Has completed an application AND has paid application fee $100'
                },
                { 
                name: 'Deposits/WL', 
                fullName: 'Waitlist',
                value: 18, 
                fill: '#60a5fa',
                desc: 'Has submitted deposit or is legacy and or spouse internal waitlist'
                },
                { 
                name: 'In Processing', 
                value: 111, 
                fill: '#3b82f6',
                desc: 'Pulled off waitlist to begin pre-governance review, required 30-day posting, background checks, confirm letters of recommendation'
                },
                { 
                name: 'Cmte. Review', 
                fullName: 'Committee Review',
                value: 44, 
                fill: '#2563eb',
                desc: 'Application package is submitted and under Membership Committee and/or Board Review'
                },
                { 
                name: 'Invited', 
                value: 90, 
                fill: '#1d4ed8',
                desc: 'Formally invited to join'
                }
            ];

            // November Financials
            const financials = [
                { label: 'New Deposits', value: 52300, icon: Wallet, color: 'text-emerald-600', bg: 'bg-emerald-100' },
                { label: 'Remaining Election', value: 134596, icon: DollarSign, color: 'text-blue-600', bg: 'bg-blue-100' },
                { label: 'Application Fees', value: 1600, icon: FileText, color: 'text-indigo-600', bg: 'bg-indigo-100' },
                { label: 'Reinstatements', value: 1477.54, icon: Activity, color: 'text-purple-600', bg: 'bg-purple-100' },
            ];

            // YTD Metrics - UPDATED with "Accounts in Pipeline"
            const ytdMetrics = [
                { label: 'Applications Reviewed', value: 380, icon: ClipboardList, color: 'text-blue-600', bg: 'bg-blue-50' },
                { label: 'New Members Onboarded', value: 327, icon: UserPlus, color: 'text-emerald-600', bg: 'bg-emerald-50' },
                { label: 'Total Resignations', value: 581, icon: UserMinus, color: 'text-orange-600', bg: 'bg-orange-50' },
                { label: 'Accounts in Pipeline', value: 376, icon: Database, color: 'text-violet-600', bg: 'bg-violet-50' },
                { label: 'Exception Requests', value: 22, icon: Activity, color: 'text-purple-600', bg: 'bg-purple-50' },
                { label: 'Intermediates Elected', value: 57, icon: CheckCircle, color: 'text-indigo-600', bg: 'bg-indigo-50' },
                { label: 'Jrs Transferred to Int.', value: 249, icon: UserCheck, color: 'text-cyan-600', bg: 'bg-cyan-50' },
            ];

            const newAccountsBreakdown = [
                { label: 'Family', value: 10 },
                { label: 'Family of 2', value: 2 },
                { label: 'Individual', value: 7 },
                { label: 'Individual Under 30', value: 9 },
                { label: 'Intermediate', value: 1 },
                { label: 'Nonresident Under 30', value: 2 },
                { label: 'Spouse', value: 4 },
            ];

            const resignedAccountsBreakdown = [
                { label: 'Family', value: 1 },
                { label: 'Family of 2', value: 5 },
                { label: 'Family Pref. Tier 2', value: 1 },
                { label: 'Individual', value: 11 },
                { label: 'Individual Pref. Tier 3', value: 1 },
                { label: 'Intermediate', value: 10 },
                { label: 'Intermediate Ext. School', value: 1 },
                { label: 'Nonresident', value: 2 },
                { label: 'Nonresident 30-34', value: 1 },
                { label: 'Nonresident Family', value: 2 },
                { label: 'Spouse', value: 2 },
                { label: 'Spouse Preferred', value: 1 },
            ];

            // New Data Sets (2025 History)
            const pipelineHistoryData = [
                { month: 'Jan', Applicants: 89, Waitlist: 22, Processing: 166, Committee: 35, Invited: 77 },
                { month: 'Feb', Applicants: 91, Waitlist: 14, Processing: 167, Committee: 56, Invited: 58 },
                { month: 'Mar', Applicants: 98, Waitlist: 16, Processing: 115, Committee: 90, Invited: 63 },
                { month: 'Apr', Applicants: 85,
